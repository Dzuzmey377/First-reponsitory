<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tanks</title>
    <style>
        body {
            background-color: #636363;
            
        }

        .platform {
            background-color: black;
            width: 1040px;
            height: 679px;
            margin-left: 240px;
        }

        #tank {
     		cursor: pointer;
			position: absolute;
            left: 250px;
            width: 48px;
            height: 48px;
            top: 10px;
    	}

        .elemAll {
            width: 80px;
            height: 235px;
            background-color: #6b0900;
            top: 61px;
            position: absolute;

        }

        .elemAll2 {
            width: 80px;
            height: 182px;
            background-color: #6b0900;
            top: 452px;
            position: absolute;
        }

        .elemAll3 {
            width: 80px;
            height: 52px;
            background-color: #6b0900;
            top: 295px;
            position: absolute;
        }

        .elemAll4 {
            width: 80px;
            height: 26px;
            background-color: #6b0900;
            top: 61px;
            position: absolute;
        }

        .elemAll5 {
            width: 80px;
            height: 104px;
            background-color: #6b0900;
            top: 139px;
            position: absolute;
        }

        .elemAll6 {
            width: 80px;
            height: 182px;
            background-color: #6b0900;
            top: 61px;
            position: absolute;
        }

        .elemAll7 {
            width: 160px;
            height: 52px;
            background-color: #6b0900;
            top: 348px;
            position: absolute;
        }

        .elemAll8 {
            width: 80px;
            height: 156px;
            background-color: #6b0900;
            top: 401px;
            position: absolute;
        }

        .elemAll9 {
            width: 80px;
            height: 52px;
            background-color: #6b0900;
            top: 427px;
            position: absolute;
        }

        .elemAll10 {
            width: 80px;
            height: 52px;
            background-color: #8c4600;
            top: 165px;
            position: absolute;
        }

        .elemAll11 {
            width: 80px;
            height: 26px;
            background-color: #8c4600;
            top: 374px;
            position: absolute;
        }

        .elemAll12 {
            width: 161px;
            height: 78px;
            background-color: #016dd9;
            top: 609px;
            position: absolute;
        }

        .kirp {
            height: 13px;
            width: 40px;
            background: url("kirpich.jpeg");
            display: block;
            float: left;
        }

        .block {
            width: 40px;
            height: 26px;
            background: url("blk.jpeg");
            display: block;
            float: left;
        }

        .pul1 {
			position: absolute;
			display: none;
		}

        #pulAll2 {
            position: absolute;
            display: none;
        }

        #tankEn1 {
            position: absolute;
            left: 1055px;
            top: 296px;
        }
    </style>
</head>
<body>
    <div id="pulAll">
		<div class="pul1">
			<img src="bullet.png">
		</div>
	</div>
   
    <div class="platform">
        <div id="tank">
            <img src="Green Tank.png" width="48" height="48">
        </div>

        <div id="tankEn1" style="transform: rotate(0deg);"><img src="tankEn.png"></div>

        <div id="pulAll2">
            <img src="bullet.png">
        </div>

        <div class="elemAll" style="left: 328px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll" style="left: 488px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll" style="left: 968px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll" style="left: 1128px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll2" style="left: 328px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll2" style="left: 488px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll2" style="left: 968px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll2" style="left: 1128px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll3" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll3" style="left: 808px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll4" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll5" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll6" style="left: 808px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll7" style="left: 408px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll7" style="left: 968px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll8" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll8" style="left: 808px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll9" style="left: 728px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll10" style="left: 728px;">
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
        </div>

        <div class="elemAll11" style="left: 248px">
            <div class="block"></div>
            <div class="block"></div>
        </div>
        <div class="elemAll11" style="left: 1208px;">
            <div class="block"></div>
            <div class="block"></div>
        </div>

        <div class="elemAll12" style="left: 687px;"></div>
    </div>
    
    <script>
        let left = 250;
		let topP = 0;

		let bool = true;
		let bool2 = true;
		let bool3 = true;
		let bool4 = true;
        let pulZam = true;
        
        let numD = 1;
        let numA = true;
        let leftTop = 0;

        let dam;

        let tank = document.getElementById("tank");
        let tankEn1 = document.getElementById("tankEn1");
        
        let platform = document.querySelector(".platform");
        let kirps = document.querySelectorAll('div.kirp');

        let pulAll2 = document.getElementById("pulAll2");

        setInterval(function(){
            tankEn1.style.transitionDuration = "2s";
            tankEn1.style.transitionTimingFunction = "linear";
            tankEn1.style.top = "50px";
            setTimeout(() => {
                tankEn1.style.transitionDuration = "0s";
                tankEn1.style.transform = "rotate(180deg)";
            }, 2000);
            setTimeout(() => {
                tankEn1.style.transitionDuration = "2s";
                tankEn1.style.top = "296px";
            }, 2050);
            setTimeout(() => {
                tankEn1.style.transitionDuration = "0s";
                tankEn1.style.transform = "rotate(0deg)";
            }, 4050);
        }, 4150);

        dam = setInterval(function(){
            if(numA == true){
                let tL = parseInt(window.getComputedStyle(tank).left);
                let tT = parseInt(window.getComputedStyle(tank).top);
                let tL2 = parseInt(window.getComputedStyle(tankEn1).left) + 30;
                let tT2 = parseInt(window.getComputedStyle(tankEn1).top) - 10;
                let tT3 = parseInt(window.getComputedStyle(tankEn1).top) + 50;

                if(tL >= tL2 - 50 && tL <= tL2 - 10 && tT <= tT2){
                    if(tankEn1.style.transform == "rotate(0deg)"){
                        pulAll2.style.display = "block";

                        pulAll2.style.left = tL2 + "px";
                        pulAll2.style.top = tT2 + "px";
                        
                        numA = false;

                        let num = 0;
                        let an1 = function(){	
                            tT2 -= 5;	
                            num += 5;
                            pulAll2.style.top = tT2 + "px";
                            let ran1 = requestAnimationFrame(an1);
                            if(num >= 800){
                                pulAll2.style.left = tL2 + "px";
                                pulAll2.style.top = tT2 + "px";
                            }
                        }
                        an1();
                        setTimeout(() => {numA = true}, 2000);
                    } 
                }  
                else if(tL >= tL2 - 50 && tL <= tL2 - 10 && tT >= tT2){
                    if(tankEn1.style.transform == "rotate(180deg)"){
                        pulAll2.style.display = "block";

                        pulAll2.style.left = tL2 + "px";
                        pulAll2.style.top = tT3 + "px";

                        pulAll2.style.transform = "scale(1, -1)";
                        
                        numA = false;

                        let num = 0;
                        let an1 = function(){	
                            tT3 += 5;	
                            num += 5;
                            pulAll2.style.top = tT3 + "px";
                            let ran1 = requestAnimationFrame(an1);
                            if(num >= 800){
                                pulAll2.style.left = tL2 + "px";
                                pulAll2.style.top = tT3 + "px";
                            }
                        }
                        an1();
                        setTimeout(() => {numA = true}, 2000);
                    }
                }    
            }
        }, 10); 

        let stttt = true;

        let setTT;

        
        setTT = setInterval(function(){
            if(stttt == true){
                if(parseInt(window.getComputedStyle(pulAll2).left) >= parseInt(window.getComputedStyle(tank).left)-5 &&
                parseInt(window.getComputedStyle(pulAll2).left) <= parseInt(window.getComputedStyle(tank).left)+65 &&
                parseInt(window.getComputedStyle(pulAll2).top) >= parseInt(window.getComputedStyle(tank).top)-11 &&
                parseInt(window.getComputedStyle(pulAll2).top) <= parseInt(window.getComputedStyle(tank).top)+42){
                    console.log("Попали в мой танк");
                    pulAll2.style.display = "none";
                    stttt = false;
                    setTimeout(() => {stttt = true}, 1000);
                }
            }
        }, 10);
        

        document.addEventListener("keydown", function(event) {
            
            if(event.code == "KeyD" && bool == true){
                tank.style.transform = "rotate(90deg)";
                let anim = function() {
                    left += 4;
                    tank.style.left = left + "px";
                    let rAn = requestAnimationFrame(anim);
                    bool = false;
                    setInterval(function() {
                        if(parseInt(window.getComputedStyle(tank).left) >= parseInt(window.getComputedStyle(platform).marginLeft) + 990){
                            left = parseInt(window.getComputedStyle(platform).marginLeft) + 990;
                        }
                    }, 1);
                    for(let kirp of kirps){
                        let kirpXY = kirp.getBoundingClientRect();

                        if(parseInt(window.getComputedStyle(tank).left) >= parseInt(kirpXY.x) - 48 &&
                            parseInt(window.getComputedStyle(tank).top) <= parseInt(kirpXY.y) + 13 &&
                            parseInt(window.getComputedStyle(tank).left) <= parseInt(kirpXY.x) + 40 &&
                            parseInt(window.getComputedStyle(tank).top) >= parseInt(kirpXY.y) - 48){
                                tank.style.left = (parseInt(kirpXY.x) - 50) + "px";
                                left = parseInt(kirpXY.x) - 50;
                        }
                    }
                    document.addEventListener("keyup", function(event) {
                        if(event.code == "KeyD"){
                            cancelAnimationFrame(rAn);
                            bool = true;
                        }
                    });
            }
            anim();
            }	
            else if(event.code == "KeyS" && bool2 == true){
                tank.style.transform = "rotate(180deg)";
                let anim2 = function() {
                    topP += 4;
                    tank.style.top = topP + "px";
                    let rAn2 = requestAnimationFrame(anim2);
                    bool2 = false;
                    setInterval(function() {
                        if(parseInt(window.getComputedStyle(tank).top) >= parseInt(window.getComputedStyle(platform).marginTop) + 633){
                            topP = parseInt(window.getComputedStyle(platform).marginTop) + 633;
                        }
                    }, 1);
                    for(let kirp of kirps){
                        let kirpXY = kirp.getBoundingClientRect();

                        if(parseInt(window.getComputedStyle(tank).left) > parseInt(kirpXY.x) - 48 &&
                            parseInt(window.getComputedStyle(tank).top) < parseInt(kirpXY.y) + 13 &&
                            parseInt(window.getComputedStyle(tank).left) < parseInt(kirpXY.x) + 40 &&
                            parseInt(window.getComputedStyle(tank).top) >= parseInt(kirpXY.y) - 48){
                                tank.style.top = (parseInt(kirpXY.y) - 50) + "px";
                                topP = parseInt(kirpXY.y) - 50;
                        }
                    }
                    document.addEventListener("keyup", function(event) {
                        if(event.code == "KeyS"){
                            cancelAnimationFrame(rAn2);
                            bool2 = true;
                        }
                    });
                }
                anim2();
            }
            else if(event.code == "KeyW" && bool3 == true){
                tank.style.transform = "rotate(0deg)";
                let anim3 = function() {
                    topP -= 4;
                    tank.style.top = topP + "px";
                    let rAn3 = requestAnimationFrame(anim3);
                    bool3 = false;
                    setInterval(function() {
                        if(parseInt(window.getComputedStyle(tank).top) <= parseInt(window.getComputedStyle(platform).marginTop) + 15){
                            topP = parseInt(window.getComputedStyle(platform).marginTop) + 15;
                        }
                    }, 1);
                    for(let kirp of kirps){
                        let kirpXY = kirp.getBoundingClientRect();

                        if(parseInt(window.getComputedStyle(tank).left) > parseInt(kirpXY.x) - 48 &&
                            parseInt(window.getComputedStyle(tank).top) <= parseInt(kirpXY.y) + 13 &&
                            parseInt(window.getComputedStyle(tank).left) < parseInt(kirpXY.x) + 40 &&
                            parseInt(window.getComputedStyle(tank).top) > parseInt(kirpXY.y) - 48){
                                tank.style.top = (parseInt(kirpXY.y) + 15) + "px";
                                topP = parseInt(kirpXY.y) + 15;
                        }
                    }
                    document.addEventListener("keyup", function(event) {
                        if(event.code == "KeyW"){
                            cancelAnimationFrame(rAn3);
                            bool3 = true;
                        }
                    });
                }
                anim3();
            }
            else if(event.code == "KeyA" && bool4 == true){
                tank.style.transform = "rotate(270deg)";
                let anim4 = function() {
                    left -= 4;
                    tank.style.left = left + "px";
                    let rAn4 = requestAnimationFrame(anim4);
                    bool4 = false;
                    setInterval(function() {
						if(parseInt(window.getComputedStyle(tank).left) <= parseInt(window.getComputedStyle(platform).marginLeft) + 15){
							left = parseInt(window.getComputedStyle(platform).marginLeft) + 15;
						}
					}, 1);
                    for(let kirp of kirps){
                        let kirpXY = kirp.getBoundingClientRect();
            
                        if(parseInt(window.getComputedStyle(tank).left) > parseInt(kirpXY.x) - 48 &&
                            parseInt(window.getComputedStyle(tank).top) < parseInt(kirpXY.y) + 13 &&
                            parseInt(window.getComputedStyle(tank).left) <= parseInt(kirpXY.x) + 40 &&
                            parseInt(window.getComputedStyle(tank).top) > parseInt(kirpXY.y) - 48){
                                tank.style.left = (parseInt(kirpXY.x) + 42) + "px";
                                left = parseInt(kirpXY.x) + 42;
                        }
                    }
                    document.addEventListener("keyup", function(event) {
                        if(event.code == "KeyA"){
                            cancelAnimationFrame(rAn4);
                            bool4 = true;
                        }
                    });
                }
                anim4();
            }
            else if(event.key == "Shift" && pulZam == true){
                pulZam = false;
                setTimeout(function(){
                    pulZam = true;
                }, 1500);
                let pul = document.querySelector(".pul" + numD);
                numD += 1;

                pul.style.display = "block";

				let newElem = document.createElement("div");
				newElem.style.position = "absolute";
				newElem.style.display = "none";
				newElem.classList.add("pul" + numD);
			    document.getElementById("pulAll").appendChild(newElem);

				let elemDivD = document.createElement("img");
				elemDivD.src = "bullet.png";
				document.querySelector(".pul" + numD).appendChild(elemDivD);
                
				function fun(){
					if(tank.style.transform == "rotate(90deg)"){
                        let setT;

                        setT = setInterval(function(){
                            if(parseInt(window.getComputedStyle(pul).left) >= parseInt(window.getComputedStyle(tankEn1).left)-11 &&
                            parseInt(window.getComputedStyle(pul).left) <= parseInt(window.getComputedStyle(tankEn1).left)+65 &&
                            parseInt(window.getComputedStyle(pul).top) >= parseInt(window.getComputedStyle(tankEn1).top)-5 &&
                            parseInt(window.getComputedStyle(pul).top) <= parseInt(window.getComputedStyle(tankEn1).top)+42){
                                console.log("Попал во врага");
                                pul.style.display = "none";
                                clearInterval(setT);
                            }
                        }, 10);

						let tL = parseInt(window.getComputedStyle(tank).left) + 30;
						let tT = parseInt(window.getComputedStyle(tank).top) + 13;

						pul.style.transform = "rotate(90deg)";

						pul.style.display = "block";

						pul.style.left = tL + "px";
						pul.style.top = tT + "px";

						let pxL = parseInt(tank.style.left) + 30;
						let num = 0;
						let an1 = function(){	
							pxL += 20;	
							num += 20;
							pul.style.left = pxL + "px";
							let ran1 = requestAnimationFrame(an1);
							if(num >= 980){
								cancelAnimationFrame(ran1);
								pul.remove();
							}
						}
						an1();
					}
					else if(tank.style.transform == "rotate(0deg)"){
                        let setT;

                        setT = setInterval(function(){
                            if(parseInt(window.getComputedStyle(pul).left) >= parseInt(window.getComputedStyle(tankEn1).left)-5 &&
                            parseInt(window.getComputedStyle(pul).left) <= parseInt(window.getComputedStyle(tankEn1).left)+65 &&
                            parseInt(window.getComputedStyle(pul).top) >= parseInt(window.getComputedStyle(tankEn1).top)-11 &&
                            parseInt(window.getComputedStyle(pul).top) <= parseInt(window.getComputedStyle(tankEn1).top)+42){
                                console.log("Попал во врага");
                                pul.style.display = "none";
                                clearInterval(setT);
                            }
                        }, 10);

						let tL = parseInt(window.getComputedStyle(tank).left) + 20;
						let tT = parseInt(window.getComputedStyle(tank).top) + 15;

						pul.style.display = "block";

						pul.style.left = tL + "px";

						let pxL = parseInt(tank.style.top) + 15;
						let num = 0;
						let an1 = function(){	
							pxL -= 20;	
							num += 20;
							pul.style.top = pxL + "px";
							let ran1 = requestAnimationFrame(an1);
							if(num >= 620){
								cancelAnimationFrame(ran1);
								pul.remove();
							}
						}
						an1();
					}	
					else if(tank.style.transform == "rotate(180deg)"){
                        let setT;

                        setT = setInterval(function(){
                            if(parseInt(window.getComputedStyle(pul).left) >= parseInt(window.getComputedStyle(tankEn1).left)-5 &&
                            parseInt(window.getComputedStyle(pul).left) <= parseInt(window.getComputedStyle(tankEn1).left)+65 &&
                            parseInt(window.getComputedStyle(pul).top) >= parseInt(window.getComputedStyle(tankEn1).top)-11 &&
                            parseInt(window.getComputedStyle(pul).top) <= parseInt(window.getComputedStyle(tankEn1).top)+42){
                                console.log("Попал во врага");
                                pul.style.display = "none";
                                clearInterval(setT);
                            }
                        }, 10);

						let tL = parseInt(window.getComputedStyle(tank).left) + 20;
						let tT = parseInt(window.getComputedStyle(tank).top) + 13;

						pul.style.transform = "rotate(180deg)";
						pul.style.display = "block";

						pul.style.left = tL + "px";
						pul.style.top = tT + "px";

						let pxL = parseInt(tank.style.top) + 13;
						let num = 0;
						let an1 = function(){	
							pxL += 20;	
							num += 20;
							pul.style.top = pxL + "px";
							let ran1 = requestAnimationFrame(an1);
							if(num >= 620){
								cancelAnimationFrame(ran1);
								pul.remove();
							}
						}
						an1();
					}
					else if(tank.style.transform == "rotate(270deg)"){
                        let setT;

                        setT = setInterval(function(){
                            if(parseInt(window.getComputedStyle(pul).left) >= parseInt(window.getComputedStyle(tankEn1).left)-11 &&
                            parseInt(window.getComputedStyle(pul).left) <= parseInt(window.getComputedStyle(tankEn1).left)+65 &&
                            parseInt(window.getComputedStyle(pul).top) >= parseInt(window.getComputedStyle(tankEn1).top)-5 &&
                            parseInt(window.getComputedStyle(pul).top) <= parseInt(window.getComputedStyle(tankEn1).top)+42){
                                console.log("Попал во врага");
                                pul.style.display = "none";
                                clearInterval(setT);
                            }
                        }, 10);

						let tL = parseInt(window.getComputedStyle(tank).left) + 32;
						let tT = parseInt(window.getComputedStyle(tank).top) + 14;

						pul.style.transform = "rotate(270deg)";
						pul.style.display = "block";

						pul.style.left = tL + "px";
						pul.style.top = tT + "px";

						let pxL = parseInt(tank.style.left) + 32;
						let num = 0;
						let an1 = function(){	
							pxL -= 20;	
							num += 20;
							pul.style.left = pxL + "px";
							let ran1 = requestAnimationFrame(an1);
							if(num >= 980){
								cancelAnimationFrame(ran1);
								pul.remove();
							}
						}
						an1();
					}
				}	
				fun();
            }
				   
        });
    </script>
</body>
</html>
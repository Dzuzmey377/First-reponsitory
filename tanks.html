<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tanks</title>
    <style>
        body {
            background-color: #636363;
            
        }

        .platform {
            background-color: black;
            width: 1040px;
            height: 679px;
            margin-left: 240px;
        }

        #tank {
     		cursor: pointer;
			position: absolute;
            left: 250px;
            width: 48px;
            height: 48px;
            top: 10px;
    	}

        .elemAll {
            width: 80px;
            height: 235px;
            background-color: #6b0900;
            top: 61px;
            position: absolute;

        }

        .elemAll2 {
            width: 80px;
            height: 182px;
            background-color: #6b0900;
            top: 452px;
            position: absolute;
        }

        .elemAll3 {
            width: 80px;
            height: 52px;
            background-color: #6b0900;
            top: 295px;
            position: absolute;
        }

        .elemAll4 {
            width: 80px;
            height: 26px;
            background-color: #6b0900;
            top: 61px;
            position: absolute;
        }

        .elemAll5 {
            width: 80px;
            height: 104px;
            background-color: #6b0900;
            top: 139px;
            position: absolute;
        }

        .elemAll6 {
            width: 80px;
            height: 182px;
            background-color: #6b0900;
            top: 61px;
            position: absolute;
        }

        .elemAll7 {
            width: 160px;
            height: 52px;
            background-color: #6b0900;
            top: 348px;
            position: absolute;
        }

        .elemAll8 {
            width: 80px;
            height: 156px;
            background-color: #6b0900;
            top: 401px;
            position: absolute;
        }

        .elemAll9 {
            width: 80px;
            height: 52px;
            background-color: #6b0900;
            top: 427px;
            position: absolute;
        }

        .elemAll10 {
            width: 80px;
            height: 52px;
            background-color: #8c4600;
            top: 165px;
            position: absolute;
        }

        .elemAll11 {
            width: 80px;
            height: 26px;
            background-color: #8c4600;
            top: 374px;
            position: absolute;
        }

        .elemAll12 {
            width: 161px;
            height: 78px;
            background-color: #016dd9;
            top: 609px;
            position: absolute;
        }

        .kirp {
            height: 13px;
            width: 40px;
            background: url("kirpich.jpeg");
            display: block;
            float: left;
        }

        .block {
            width: 40px;
            height: 26px;
            background: url("blk.jpeg");
            display: block;
            float: left;
        }

        .pul1 {
			position: absolute;
			display: none;
		}

        #pulAll2 {
            position: absolute;
            display: none;
        }

        #tankEn1 {
            position: absolute;
            left: 1065px;
            top: 296px;
            width: 48px;
            height: 48px;
        }
    </style>

    <script src="tankDamage.js"></script>
    <script src="tankDamageEnemy.js"></script>
    <script src="tankCollision.js"></script>
    
</head>
<body>
    <div id="pulAll">
		<div class="pul1">
			<img src="bullet.png">
		</div>
	</div>
   
    <div class="platform">
        <div id="tank">
            <img src="Green Tank.png" width="48" height="48">
        </div>

        <div id="tankEn1" style="transform: rotate(0deg);"><img src="tankEn.png" width="48" height="48"></div>

        <div id="pulAll2">
            <img src="bullet.png">
        </div>

        <div class="elemAll" style="left: 328px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll" style="left: 488px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll" style="left: 968px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll" style="left: 1128px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll2" style="left: 328px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll2" style="left: 488px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll2" style="left: 968px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll2" style="left: 1128px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll3" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll3" style="left: 808px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll4" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll5" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll6" style="left: 808px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll7" style="left: 408px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll7" style="left: 968px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll8" style="left: 648px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>
        <div class="elemAll8" style="left: 808px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll9" style="left: 728px;">
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
            <div class="kirp"></div>
        </div>

        <div class="elemAll10" style="left: 728px;">
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
        </div>

        <div class="elemAll11" style="left: 248px">
            <div class="block"></div>
            <div class="block"></div>
        </div>
        <div class="elemAll11" style="left: 1208px;">
            <div class="block"></div>
            <div class="block"></div>
        </div>

        <div class="elemAll12" style="left: 687px;"></div>
    </div>
    
    <script>
        let left = 250;
		let topP = 0;

        let left2 = 1055;
		let topP2 = 296;

		let bool = true;
		let bool2 = true;
		let bool3 = true;
		let bool4 = true;
        let pulZam = true;
        
        let numD = 1;
        let leftTop = 0;

        let dam;

        let st = "left";

        let tank = document.getElementById("tank");
        let tankEn1 = document.getElementById("tankEn1");
        
        let platform = document.querySelector(".platform");
        let kirps = document.querySelectorAll('div.kirp');

        let pulAll2 = document.getElementById("pulAll2"); 

        let consoleDamEnemy;

        function start(stor, gr, b){
            tank.style.transform = `rotate(${gr}deg)`;
                function anim() {
                    if(stor == "right") {
                        left += 4;
                        tank.style.left = left + "px";
                        collision("right");
                        collisionGame("right");
                    }
                    else if(stor == "down") {
                        topP += 4;
                        tank.style.top = topP + "px";   
                        collision("down");
                        collisionGame("down");
                    }
                    else if(stor == "top") {
                        topP -= 4;
                        tank.style.top = topP + "px";   
                        collision("top");   
                        collisionGame("top");                 
                    }
                    else if(stor == "left") {
                        left -= 4;
                        tank.style.left = left + "px";
                        collision("left");
                        collisionGame("left");
                    }
                    
                    let rAn = requestAnimationFrame(anim);

                    document.addEventListener("keyup", function(event) {
                        if(event.code == `Key${b}`) {
                            cancelAnimationFrame(rAn);
                            switch (stor) {
                                case "right":
                                    bool = true;
                                    break;
                                case "down":
                                    bool2 = true;
                                    break;
                                case "top":
                                    bool3 = true;
                                    break;
                                case "left":
                                    bool4 = true;
                                    break;
                            }
                            
                        }
                    });
                }

                anim();
        }

        document.addEventListener("keydown", function(event) {
            if(event.code == "KeyD" && bool == true) {
                bool = false;
                start("right", 90, "D");
            }	
            else if(event.code == "KeyS" && bool2 == true) {
                bool2 = false;
                start("down", 180, "S");
            }
            else if(event.code == "KeyW" && bool3 == true) {
                bool3 = false;
                start("top", 0, "W");
            }
            else if(event.code == "KeyA" && bool4 == true) {
                bool4 = false;
                start("left", 270, "A");
            }
        });

        document.addEventListener("keydown", function(event) {
            if(event.key == "Shift" && pulZam == true) {
                if(tank.style.transform == "rotate(90deg)") {
                    damageTank(90, 30, 13, "left&right", "right");
                }
                else if(tank.style.transform == "rotate(180deg)") {
                    damageTank(180, 20, 13, "top&down", "down");
                }
                else if(tank.style.transform == "rotate(0deg)") {
                    damageTank(0, 20, 15, "top&down", "top");
                }
                else if(tank.style.transform == "rotate(270deg)") {
                    damageTank(270, 32, 14, "left&right", "left");
                }
            }
        });
    </script>
    <script src="tanksControl.js"></script>
</body>
</html>